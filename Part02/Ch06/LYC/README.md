# 마블 다이어그램

- 마블 다이어그램이란?
    
    리액티브 프로그래밍을 통해 발생하는 비동기적 데이터 흐름을 시간의 흐름에 따라 시각적으로 표현한 것입니다.
    
    Operator에 따라 데이터 흐름이 다양하게 변화하는데, 이 때 복잡한 데이터의 흐름을 마블 다이어그램으로 좀 더 쉽게 이해가 가능합니다.
    
- 마블 다이어그램이 필요한 이유
    1. 문장으로 적혀있는 리액티브 연산자의 기능을 이해하는데 어려움이 존재합니다.
    2. 리액티브 연산자의 기능이 시각화 되어 기능을 이해하는 데 용이합니다.
    3. 리액티브 프로그래밍의 핵심인 Operator를 더욱 이해하고 사용하기 위한 핵심도구이기 때문입니다.

- 마블 다이어그램 순서도

![다운로드 (1).png](%E1%84%86%E1%85%A1%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%20a121cb36ea38433bbebe727f5b42e02d/%25E1%2584%2583%25E1%2585%25A1%25E1%2584%258B%25E1%2585%25AE%25E1%2586%25AB%25E1%2584%2585%25E1%2585%25A9%25E1%2584%2583%25E1%2585%25B3_(1).png)

1. Publisher가 데이터를 Emit하는 과정입니다. 마블 다이어그램에는 두 가지 타임라인이 존재합니다. 1번과 5번이 존재하는데, 1번 타임라인은 Publisher의 타임라인이라고 볼 수 있습니다.
2. Publisher가 emit하는 데이터를 의미합니다.
3. emit이 정상적으로 끝났음을 의미하고, 이것을 onComplete Signal로 표현할 수 있습니다.
4. Publisher로부터 emit된 데이터가 Operator 함수쪽으로 전달되는 것을 의미합니다. 즉 4번은 Operator 함수라고 볼 수 있습니다. Reactor는 많은 Operator를 지원하며, 각각마다 Operator를 잘 설명하는 마블 다이어그램을 가집니다.
5. Output 타임라인이라고 불리며, Operator를 통해 가공된 데이터를 출력으로 내보내진 타임라인입니다.
6. ‘X’ 표시는 에러가 발생했음을 의미하며 데이터가 종료되었음을 의미합니다. 이는 onError Signal로 표현할 수 있습니다.

- Mono 마블 다이어그램
    
    하나의 데이터가 다이어그램 상에서 시간의 흐름에 따라 어떻게 변화하는지 데이터의 흐름을 표현한 것입니다.
    
    ![image (2).png](%E1%84%86%E1%85%A1%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%20a121cb36ea38433bbebe727f5b42e02d/image_(2).png)
    
- Flux의 마블 다이어그램
    
    여러개(0 .. N)의 데이터를 emit하는 Flux의 데이터 흐름을 표현하는 것입니다.
    
    ![image (3).png](%E1%84%86%E1%85%A1%E1%84%87%E1%85%B3%E1%86%AF%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%20a121cb36ea38433bbebe727f5b42e02d/image_(3).png)